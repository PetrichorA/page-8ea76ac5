window.hypothesisConfig=function(){var t=window.Annotator,n=$("#main");function o(n,o){o={server:!0,origin:!0,showHighlights:!0,Toolbar:{container:"#annotation-controls"}},t.Host.call(this,n,o)}return o.prototype=Object.create(t.Host.prototype),o.prototype.show=function(){this.frame.css({"margin-left":-1*this.frame.width()+"px"}),this.frame.removeClass("annotator-collapsed"),n.hasClass("single")||(n.addClass("single"),this.toolbar.find("[name=sidebar-toggle]").removeClass("h-icon-chevron-left").addClass("h-icon-chevron-right"),this.setVisibleHighlights(!0))},o.prototype.hide=function(){this.frame.css({"margin-left":""}),this.frame.addClass("annotator-collapsed"),n.hasClass("single")&&(n.removeClass("single"),this.toolbar.find("[name=sidebar-toggle]").removeClass("h-icon-chevron-right").addClass("h-icon-chevron-left"),this.setVisibleHighlights(!1))},{constructor:o}},EPUBJS.reader.plugins.HypothesisController=function(t){$("#main");return t.on("renderer:locationChanged",(function(){var n=t.renderer.render.window.annotator;if(n&&n.constructor.$){var o=function(n){var o=t.renderer.render.iframe.clientWidth;return n(".annotator-hl").map((function(){var t=n(this),e=this.getBoundingClientRect().left;if(e>=0&&e<=o)return t.data("annotation")})).get()}(n.constructor.$);n.showAnnotations(o)}})),{}};